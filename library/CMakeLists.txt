cmake_minimum_required(VERSION 3.20)

set(ALL_LIBRARY_TARGETS_DEBUG "")
set(ALL_LIBRARY_TARGETS_RELEASE "")
foreach(config IN ITEMS ${CMAKE_CONFIGURATION_TYPES})
    string(TOUPPER ${config} CONFIG)
    file(GLOB SOURCE_LIBS CONFIGURE_DEPENDS ${CMAKE_CURRENT_SOURCE_DIR}/${config}/*.lib*)

    foreach (SOURCE_LIB IN ITEMS ${SOURCE_LIBS})
        get_filename_component(FILE_NAME "${SOURCE_LIB}" NAME_WE)
        set(LIB_NAME ${FILE_NAME}_${config})
        add_library(${LIB_NAME} STATIC IMPORTED)
        set_target_properties(${LIB_NAME} PROPERTIES
        IMPORTED_LOCATION_${CONFIG} ${SOURCE_LIB}
        )

        list(APPEND ALL_LIBRARY_TARGETS_${CONFIG} ${FILE_NAME})
    endforeach()

endforeach()

set(ALL_LIBRARY_TARGETS_DEBUG ${ALL_LIBRARY_TARGETS_DEBUG} PARENT_SCOPE)
set(ALL_LIBRARY_TARGETS_RELEASE ${ALL_LIBRARY_TARGETS_RELEASE} PARENT_SCOPE)
#message("ALL_LIBRARY_TARGETS_DEBUG: ${ALL_LIBRARY_TARGETS_DEBUG}")
#message("ALL_LIBRARY_TARGETS_RELEASE: ${ALL_LIBRARY_TARGETS_RELEASE}")